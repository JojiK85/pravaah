<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PRAVAAH ‚Äî Chronicles of Time</title>

  <!-- üîπ CSS -->
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- üîπ Firebase & Auth Logic -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCbXKleOw4F46gFDXz2Wynl3YzPuHsVwh8",
      authDomain: "pravaah-55b1d.firebaseapp.com",
      projectId: "pravaah-55b1d",
      storageBucket: "pravaah-55b1d.firebasestorage.app",
      messagingSenderId: "287687647267",
      appId: "1:287687647267:web:7aecd603ee202779b89196"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // üîπ Hide page until auth is checked
    document.addEventListener("DOMContentLoaded", () => {
      document.body.style.display = "none";
      const loader = document.createElement("div");
      loader.id = "loading-screen";
      loader.innerHTML = `<div class="loader"></div>`;
      document.body.appendChild(loader);
    });

    // üîπ Firebase Auth State
    onAuthStateChanged(auth, (user) => {
      const loader = document.getElementById("loading-screen");
      if (loader) loader.style.opacity = "0";
      setTimeout(() => loader?.remove(), 400);

      if (!user) {
        window.location.href = "login.html";
      } else {
        document.body.style.display = "block";
      }
    });

    // üîπ Logout Function
    document.addEventListener("DOMContentLoaded", () => {
      const logoutDesktop = document.getElementById("logoutDesktop");
      const logoutMobile = document.getElementById("logoutMobile");

      const logoutUser = async () => {
        await signOut(auth);
        window.location.href = "login.html";
      };

      if (logoutDesktop) logoutDesktop.addEventListener("click", logoutUser);
      if (logoutMobile) logoutMobile.addEventListener("click", logoutUser);
    });
  </script>

  <!-- üîπ Loader Style -->
  <style>
    #loading-screen {
      position: fixed;
      inset: 0;
      background: black;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.4s ease;
    }

    .loader {
      border: 4px solid rgba(255,255,255,0.2);
      border-top: 4px solid cyan;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>

<body>
  <!-- üîπ NAVBAR -->
  <nav>
    <div class="logo">PRAVAAH</div>

    <div class="menu-toggle" id="menuToggle">
      <i class="fas fa-bars"></i>
    </div>

    <ul id="menu">
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="events.html">Events</a></li>
      <li><a href="accommodation.html">Accommodation</a></li>
      <li><a href="photogallery.html">Gallery</a></li>
      <li><a href="registrationPravaah.html">Register</a></li>
      <li><a href="contact_us.html">Contact Us</a></li>
      <li><a href="workshop.html">Workshop</a></li>
      <li class="mobile-only"><a href="#" id="logoutMobile">Logout</a></li>
    </ul>

    <button id="logoutDesktop" class="logout-btn">Logout</button>
  </nav>

  <!-- üìÖ CALENDAR -->
  <h2 class="calendar-title">üìÖ PRAVAAH'26 CALENDAR</h2>

  <div class="container" id="feed">
    <div class="calendar-container">
      <div class="header">
        <button id="prevMonth">‚ùÆ</button>
        <h2 id="monthYear"></h2>
        <button id="nextMonth">‚ùØ</button>
      </div>

      <div class="days-of-week">
        <div>Sun</div><div>Mon</div><div>Tue</div>
        <div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
      </div>

      <div id="calendar" class="calendar-grid"></div>
    </div>

    <div class="feed-container">
      <h2 class="feed-title">Chronicle Feed üßæ</h2>
      <div class="feed-list" id="feedList">
        <div class="feed-placeholder">Select a date to see event details</div>
      </div>
    </div>
  </div>

  <!-- üñºÔ∏è HIGHLIGHTS -->
  <section class="highlights" id="highlights">
    <h2 class="section-title">‚ú® HIGHLIGHTS OF 2K25 ‚ú®</h2>
    <div class="highlights-carousel">
      <div class="slider-track">
        <div class="slide" data-title="Opening Ceremony"><img src="DSC09133.JPG" alt="Highlight 1"></div>
        <div class="slide" data-title="Cultural Night"><img src="DSC09133.JPG" alt="Highlight 2"></div>
        <div class="slide" data-title="Tech Expo"><img src="DSC09133.JPG" alt="Highlight 3"></div>
        <div class="slide" data-title="Sports Gala"><img src="DSC09133.JPG" alt="Highlight 4"></div>
        <div class="slide" data-title="Prize Distribution"><img src="DSC09133.JPG" alt="Highlight 5"></div>
      </div>
    </div>
  </section>

  <!-- üé¨ AFTERMOVIE -->
  <section class="aftermovie-section" id="aftermovie">
    <h2 class="section-title">üé• VIDEOS ‚Äî 2K25</h2>

    <div class="video-switch">
      <button id="aftermovieBtn" class="active">Aftermovie</button>
      <button id="themeBtn">Theme Video</button>
    </div>

    <div class="aftermovie">
      <div class="video-wrapper">
        <video id="mainVideo" controls autoplay muted loop playsinline>
          <source src="aftermovie.mp4" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
      </div>
    </div>
  </section>

  <!-- üåê SOCIAL SECTION -->
  <section class="social-section" id="social">
    <h2>Join Our Ever-Growing Global Community</h2>
    <div class="social-cards">
      <div class="social-card"><div class="inner-card"><h3>800K+</h3><p>YouTube ‚ñ∂</p></div></div>
      <div class="social-card"><div class="inner-card"><h3>160K+</h3><p>Twitter ùïè</p></div></div>
      <div class="social-card"><div class="inner-card"><h3>210K+</h3><p>Instagram üì∏</p></div></div>
      <div class="social-card"><div class="inner-card"><h3>750K+</h3><p>LinkedIn in</p></div></div>
    </div>
  </section>

  <!-- ‚ö´ FOOTER -->
  <footer id="contact">
    <div class="footer-container">
      <div class="footer-left">
        <img src="pravah-logo.png" alt="Pravaah Logo" class="footer-logo">
        <a href="registrationPravaah.html" class="register-btn">Register Now</a>
      </div>

      <div class="footer-links">
        <div class="footer-column">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="#">Events Portal</a></li>
            <li><a href="#">CA Portal</a></li>
            <li><a href="#">Join the Community</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Explore More</h3>
          <ul>
            <li><a href="#">Star Attractions</a></li>
            <li><a href="#">Hall of Fame</a></li>
            <li><a href="#">Brochure</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Reach Out to Us</h3>
          <ul>
            <li><a href="#">Contact Us</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="footer-social">
      <a href="#"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-linkedin-in"></i></a>
      <a href="#"><i class="fab fa-youtube"></i></a>
    </div>

    <hr class="footer-line">
    <div class="footer-bottom">
      <p><span>@PRAVAAH'26 IIT BHUBANESWAR</span> | MADE WITH üíú BY WEB TEAM | All Rights Reserved</p>
    </div>
  </footer>

  <!-- Optional: add your existing script.js if you have custom interactivity -->
  <script src="script.js" defer></script>
</body>
</html>
